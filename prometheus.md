
# Prometheus Monitoring Overview

## What is Prometheus?
Prometheus is an open-source monitoring and alerting toolkit. It's designed for reliability and scalability and is widely used for metrics collection in cloud-native environments.

---

## Key Features
- **Multi-dimensional Data Model**
- **Powerful Query Language (PromQL)**
- **Time-series Data Storage**
- **Built-in Alerting**
- **Visualization through Grafana**

---

## Prometheus Architecture
- **Prometheus Server:** Main component that scrapes and stores metrics.
- **Exporters:** Agents that expose metrics in a format Prometheus understands.
- **Alertmanager:** Handles alerts generated by Prometheus.
- **Pushgateway (optional):** For short-lived jobs to push metrics.

---

## Installing Prometheus with Docker
```bash
docker run -d -p 9090:9090 prom/prometheus
```

---

## prometheus.yml - Configuration File
Basic config:
```yaml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'node'
    static_configs:
      - targets: ['localhost:9100']
```

---

## PromQL - Query Language
Examples:
```promql
up
rate(http_requests_total[5m])
avg_over_time(cpu_usage[1h])
```

---

## Alerting with Prometheus
Define alerting rules in `prometheus.yml`
```yaml
groups:
- name: example
  rules:
  - alert: HighCPUUsage
    expr: avg(rate(cpu_usage[1m])) > 0.8
    for: 2m
    labels:
      severity: warning
    annotations:
      summary: "High CPU Usage Detected"
```

---

## Exporters
- **Node Exporter:** System metrics
- **Blackbox Exporter:** HTTP/TCP checks
- **cAdvisor:** Container metrics
- **Custom Exporters**

---

## Visualization with Grafana
Add Prometheus as a data source in Grafana and use PromQL queries in dashboard panels.

---

## Summary
- Prometheus is a robust, scalable monitoring system.
- Uses exporters to collect metrics.
- PromQL enables powerful querying.
- Integrates seamlessly with Grafana.
